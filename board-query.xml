<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<comment>board-query.xml file</comment>
	<entry key="boardList"><![CDATA[
	SELECT MEMBER_NO, BOARD_NO, BOARD_TITLE, MEMBER_NM, BOARD_CONTENT, 
	CASE WHEN SYSDATE - CREATE_DT < 1/24/60 THEN FLOOR((SYSDATE - CREATE_DT) * 24 * 60 * 60) || '초 전'
	WHEN SYSDATE - CREATE_DT < 1/24 THEN FLOOR((SYSDATE-CREATE_DT) * 24 * 60) || '분 전'
	WHEN SYSDATE - CREATE_DT < 1 THEN FLOOR((SYSDATE-CREATE_DT) * 24) || '시간 전'
	ELSE TO_CHAR(CREATE_DT, 'YYYY-MM-DD')
	END CREATE_DT, READ_COUNT, DELETE_FL, (SELECT COUNT(*) FROM "COMMENT" c WHERE c.BOARD_NO = b.BOARD_NO ) COMMENT_COUNT
FROM BOARD b
JOIN "MEMBER" USING (MEMBER_NO) WHERE DELETE_FL = 'N' ORDER BY BOARD_NO DESC]]></entry>
	<entry key="editBoard">UPDATE BOARD SET BOARD_CONTENT = ? WHERE BOARD_NO = ?</entry>
	<entry key="deleteBoard">UPDATE BOARD SET DELETE_FL = 'Y' WHERE BOARD_NO = ?</entry>
	<entry key="writeBoard">INSERT INTO BOARD VALUES(SEQ_BOARD_NO.NEXTVAL, ?, ?, DEFAULT, 0, DEFAULT, ?)</entry>
	<entry key="titcon">SELECT MEMBER_NO, BOARD_NO, BOARD_TITLE, MEMBER_NM, BOARD_CONTENT, CREATE_DT, READ_COUNT, DELETE_FL, (SELECT COUNT(*) FROM "COMMENT" c WHERE c.BOARD_NO = b.BOARD_NO ) COMMENT_COUNT
FROM BOARD b
JOIN "MEMBER" USING (MEMBER_NO) WHERE BOARD_TITLE LIKE ? OR BOARD_CONTENT LIKE ? ORDER BY CREATE_DT</entry>
	<entry key="title">SELECT MEMBER_NO, BOARD_NO, BOARD_TITLE, MEMBER_NM, BOARD_CONTENT, CREATE_DT, READ_COUNT, DELETE_FL, (SELECT COUNT(*) FROM "COMMENT" c WHERE c.BOARD_NO = b.BOARD_NO ) COMMENT_COUNT
FROM BOARD b
JOIN "MEMBER" USING (MEMBER_NO) WHERE BOARD_TITLE LIKE ? ORDER BY CREATE_DT</entry>
	<entry key="content">SELECT MEMBER_NO, BOARD_NO, BOARD_TITLE, MEMBER_NM, BOARD_CONTENT, CREATE_DT, READ_COUNT, DELETE_FL, (SELECT COUNT(*) FROM "COMMENT" c WHERE c.BOARD_NO = b.BOARD_NO ) COMMENT_COUNT
FROM BOARD b
JOIN "MEMBER" USING (MEMBER_NO) WHERE BOARD_CONTENT LIKE ? ORDER BY CREATE_DT</entry>
	<entry key="writer">SELECT MEMBER_NO, BOARD_NO, BOARD_TITLE, MEMBER_NM, BOARD_CONTENT, CREATE_DT, READ_COUNT, DELETE_FL, (SELECT COUNT(*) FROM "COMMENT" c WHERE c.BOARD_NO = b.BOARD_NO ) COMMENT_COUNT
FROM BOARD b
JOIN "MEMBER" USING (MEMBER_NO) WHERE MEMBER_NM LIKE ? ORDER BY CREATE_DT</entry>
	<entry key="count">UPDATE BOARD SET READ_COUNT = (READ_COUNT + 1) WHERE BOARD_NO = ?</entry>
</properties>
